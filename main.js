(()=>{"use strict";function e(e){return{title:e,todo:[]}}var t=function(){let t=[];return t.push(e("default")),{projectsArray:t}}();!function(){var n=new Date,r=String(n.getDate()).padStart(2,"0"),o=String(n.getMonth()+1).padStart(2,"0"),a=n.getFullYear();n=o+"/"+r+"/"+a;let l=document.getElementById("todolistHolder"),i=document.querySelector("body"),d=document.getElementById("for-select"),c=document.querySelector(".form"),u=document.getElementById("addproject"),m=document.querySelector(".TEXT");function s(e){d.innerHTML="",e.forEach((e=>{let t=document.createElement("OPTION");t.setAttribute("value",`${e.title}`),t.innerText=e.title,d.append(t),t.setAttribute("id",d.length-1)}))}function p(e){l.innerHTML="",e.forEach((e=>{let t=document.createElement("DIV");t.classList.add("innerdiv");let n=document.createElement("DIV");n.setAttribute("id","namedate");let r=document.createElement("SPAN");r.innerText=e.title;let o=document.createElement("INPUT");o.setAttribute("id","date"),o.setAttribute("value",e.date),o.setAttribute("type","date"),o.setAttribute("readonly",!0),n.append(r,o);let a=document.createElement("DIV");a.setAttribute("id","paraeditdone");let i=document.createElement("P");i.innerText=e.description;let d=document.createElement("BUTTON"),c=document.createElement("BUTTON"),u=document.createElement("BUTTON");d.setAttribute("id","edit"),d.innerText="Edit",c.setAttribute("id","done"),c.innerText="Done?",u.setAttribute("id","Xtodo"),u.innerText="X",a.append(i,d,c,u),t.append(n,a),l.append(t);let m=document.getElementsByClassName("innerdiv").length-1;t.setAttribute("id",m),"Normal"==e.priority?t.style.background="#a1cae2":"Important"==e.priority&&(t.style.background="#91091e")}))}s(t.projectsArray),u.addEventListener("click",(e=>{c.style.display="flex"})),c.addEventListener("click",(n=>{if("X"==n.target.className)m.value="",c.style.display="none";else if("ADD"==n.target.className){var r=e(m.value);t.projectsArray.push(r),s(t.projectsArray),c.style.display="none",d.value=m.value}})),d.addEventListener("change",(e=>{t.projectsArray.forEach((e=>{e.title==d.value&&p(e.todo)}))})),i.addEventListener("click",(e=>{let r=e.target.parentElement.parentElement;if("Xtodo"===e.target.id)e.target.parentElement.parentElement.parentElement.removeChild(r),t.projectsArray.forEach((e=>{d.value==e.title&&e.todo.splice(r.id,1)}));else if("addtodo"===e.target.id)!function(){let e=document.createElement("DIV");e.classList.add("todoform");let r=document.createElement("LABEL");r.innerText="Title";let o=document.createElement("INPUT");o.setAttribute("type","text");let a=document.createElement("LABEL");a.innerText="DATE";let l=document.createElement("INPUT");l.setAttribute("type","date"),l.setAttribute("min",n),document.createElement("LABEL").innerText="Priority";let c=document.createElement("LABEL");c.innerText="Description";let u=document.createElement("TEXTAREA");u.setAttribute("maxlength","150");let m=document.createElement("LABEL");m.innerText="Priority";let s=document.createElement("SELECT"),E=document.createElement("OPTION");E.value="Normal",E.innerText="Normal";let g=document.createElement("OPTION");g.value="Important",g.innerText="Important",s.append(E,g);let y=document.createElement("DIV"),T=document.createElement("button");T.innerText="Save",T.setAttribute("id","save"),T.addEventListener("click",(n=>{t.projectsArray.forEach((t=>{t.title==d.value&&(t.todo.push(function(e,t,n,r,o){return{title:e,date:t,description:n,done:!1,priority:o,togglePriority:function(){},toggleDone:function(){return!1}}}(o.value,l.value,u.value,0,s.value)),i.removeChild(e),p(t.todo))}))}));let A=document.createElement("button");A.innerText="Cancel",y.append(T,A),A.addEventListener("click",(t=>{i.removeChild(e)})),e.append(r,o,a,l,c,u,m,s,y),i.append(e)}();else if("removeproject"===e.target.id){let e=document.getElementsByTagName("option");for(let n=0;e.length,n<t.projectsArray.length;n++)console.log(e[n].id),console.log(t.projectsArray[n].title)}else if("done"==e.target.id){let n=r.id;if("Done?"===e.target.innerText)t.projectsArray.forEach((e=>{e.todo[n].toggleDone()})),r.style.background="#CDCDCD",e.target.innerText="Done",e.target.style.background="grey";else if("Done"===e.target.innerText){var o;t.projectsArray.forEach((e=>{e.todo[n].toggleDone(),o="Important"==e.todo[n].priority?"#91091e":"#a1cae2"})),e.target.innerText="Not Done",e.target.style.background="#4a47a3",r.style.background=o}else"Not Done"===e.target.innerText&&(t.projectsArray.forEach((e=>{e.todo[n].toggleDone(),o="Important"==e.todo[n].priority?"#91091e":"#a1cae2"})),e.target.innerText="Done",e.target.style.background="#CDCDCD",r.style.background="#CDCDCD")}}))}()()})();